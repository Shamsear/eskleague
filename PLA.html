<!DOCTYPE html>
<html>
<head>
    <title>Player Directory</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* Global Styles */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
        }

        h1 {
            text-align: center;
            color: #333;
            margin: 20px 0;
        }

         /* Global Styles */
    /* ... (existing styles) ... */

    /* List View Styles */
    #player-list {
        display: block;
    }

.player-card {
    width: 290px; /* Expand the width by 20px (10px left + 10px right) */
    margin: 4px 0;
    display: flex;
    align-items: center;
    border: 1px solid #ddd;
    padding: 6px;
    border-radius: 5px;
}

.player-image {
    max-width: 60px; /* Set the width of the player image */
    height: auto;
    margin-right: 10px;
}

.player-image img {
    max-width: 100%; /* Ensure the image doesn't exceed the container width */
    height: auto;
}

.player-card h3 {
    margin: 0;
    font-size: 1rem;
    color: #333;
    flex-grow: 1; /* Allow the player name to expand and fill the available space */
}


.player-card p {
    margin: 3px 0;
    font-size: 0.8rem;
    color: #666;
}


        /* Slide-in Popup Styles */
        .popup-container {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #fff;
            z-index: 1;
            opacity: 0;
            overflow: auto;
            box-shadow: 0 -2px 6px rgba(0, 0, 0, 0.2);
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
        }

        .popup-container.active {
            opacity: 1;
            transform: translateY(0);
        }

        .popup-header {
            cursor: grab; /* Change cursor on header to indicate draggable */
        }

        .popup-content {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center; /* Center content both horizontally and vertically */
            justify-content: center;
        }

        .popup-image {
            max-width: 120px; /* Set the maximum width for the popup image */
            max-height: 120px; /* Set the maximum height for the popup image */
            height: auto;
            border-radius: 0;
            width: auto;
        }


        .popup-content h2 {
            margin: 0;
            font-size: 1.5rem;
            color: #333;
            text-align: center;
        }

        .popup-content p {
            color: #666;
        }

        .close-button {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            color: #666;
            cursor: pointer;
        }

        .close-button:hover {
            color: #333;
        }

        /* Media Query for Larger Screens */
        @media screen and (min-width: 768px) {
            #player-list {
                justify-content: center;
            }

            .player-card {
                width: calc(45% - 10px); /* Adjusted width for two columns in a row with some spacing */
            }
        }

        /* Slides Styles */
        .slide {
            display: none;
        }
        h2 {
            display: block;
            font-size: 1.3em;
            margin-block-start: 0.83em;
            margin-block-end: 0.83em;
            margin-inline-start: 0px;
            margin-inline-end: 0px;
            font-weight: bold;
        }
        

        .slide.active {
            display: block;
        }

        .slider-controls {
            text-align: center;
            margin-top: 10px;
        }

        .slide-button {
            background-color: #333;
            color: #fff;
            border: none;
            padding: 8px 16px;
            cursor: pointer;
            margin: 5px;
            border-radius: 5px;
        }

        .slide-button.active {
            background-color: #666;
        }

        /* Adjust spacing for the separate lines in the popup */
        .slide p {
            margin: 5px 0; /* Add less vertical margin */
        }

        /* Table Styles */
        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
            white-space: nowrap; /* Prevent text from wrapping to a new line */
            overflow: hidden; /* Hide overflow content */
            text-overflow: ellipsis; /* Display ellipsis for text that overflows */
        }

        th {
            background-color: #f2f2f2;
        }


        /* Adjust the width of the "Team" column */
        th:nth-child(2),
        td:nth-child(2) {
            width: 30%; /* Adjust the percentage as needed */
        }

        /* Narrower columns */
        th:nth-child(1),
        td:nth-child(1),
        th:nth-child(3),
        td:nth-child(3),
        th:nth-child(4),
        td:nth-child(4) {
            width: 15%; /* Adjust the percentage as needed */
        }
    </style>
</head>
<body>
    <input type="text" id="search-input" placeholder="Search players...">
    <h1>Player Directory</h1>

<!-- Updated Messi card -->
<div class="player-card" onclick="showPlayerDetails(1)">
    <div class="player-image">
        <img src="messi.jpg" alt="Messi" class="player-card-image">
    </div>
    <h2>MESSI</h2>
        </div>
    
        <!-- Casilas card -->
        <div class="player-card" onclick="showPlayerDetails(2)">
            <div class="player-image">
                <img src="casilas.jpg" alt="Casilas" class="player-card-image">
            </div>
            <h2>CASILAS</h2>
                </div>
    
        <!-- Ramos card -->
        <div class="player-card" onclick="showPlayerDetails(3)">
            <div class="player-image">
                <img src="ramos.jpg" alt="Ramos" class="player-card-image">
            </div>
            <h2>RAMOS</h2>
                </div>
    
        <!-- Player 4 card -->
        <div class="player-card" onclick="showPlayerDetails(4)">
            <div class="player-image">
                <img src="example.jpg" alt="Player 4" class="player-card-image">
            </div>
            <h2>Player 4</h2>
                </div>
        <!-- Add more player cards here... -->
    </div>
    
    

    <div class="popup-container" id="player-details">
        <div class="popup-header" onmousedown="startDrag(event)">
            <!-- Header content (You can add a title or drag indicator here) -->
        </div>
        <div class="popup-content" id="popup-content">
            <span class="close-button" onclick="hidePlayerDetails()">&times;</span>
            
            <!-- Player name -->
            <h2 id="details-name" style="margin-top: 0;"></h2>

            <div class="popup-image">
                <img id="details-photo" src="" alt="" class="popup-image">
            </div>

            <h4 id="player-team-value">Team: Manchester United | Value: 10CC</h4> <!-- Team name and value -->
            
            <!-- Slide 1: Career -->
            <div class="slide active" id="slide1">
                <table>
                    <thead>
                        <tr>
                            <th>Season</th>
                            <th>Team</th>
                            <th>Value</th>
                            <th>Apps</th>
                        </tr>
                    </thead>
                    <tbody id="career-table">
                        <!-- Career data will be inserted here -->
                    </tbody>
                </table>
            </div>
            
            <div class="slider-controls">
                <button class="slide-button active" onclick="showSlide(1)">Career</button>
            </div>
        </div>
    </div>

    <script>
        // Define an array of player objects with their career statistics
        var players = [
            {
                name: "Messi",
                photoUrl: "messi.jpg",
                info: "Goalkeeper",
                team: "Manchester United", // Added team name
                value: "10CC", // Added value
                career: [
                    {
                        season: "1",
                        team: "Manchester United",
                        value: "10CC",
                        apps: 20
                    },
                    {
                        season: "2",
                        team: "FC Bayern Munich",
                        value: "9CC",
                        apps: 25
                    }
                    // Add more career data here...
                ]
            },
            {
                name: "Casilas",
                photoUrl: "casilas.jpg",
                info: "Forward",
                team: "Gokulam Kerala FC", // Added team name
                value: "$15 million", // Added value
                career: [
                    {
                        season: "2020-2021",
                        team: "Gokulam Kerala FC",
                        value: "$15 million",
                        apps: 30
                    },
                    {
                        season: "2019-2020",
                        team: "Mohun Bagan SC",
                        value: "$14 million",
                        apps: 28
                    }
                    // Add more career data here...
                ]
            },
            {
                name: "Ramos",
                photoUrl: "ramos.jpg",
                info: "Midfielder",
                team: "Team P", // Added team name
                value: "$20 million", // Added value
                career: [
                    {
                        season: "2020-2021",
                        team: "Team P",
                        value: "$20 million",
                        apps: 35
                    },
                    {
                        season: "2019-2020",
                        team: "Team Q",
                        value: "$18 million",
                        apps: 32
                    }
                    // Add more career data here...
                ]
            },
            {
                name: "Player 4",
                photoUrl: "example.jpg",
                info: "Defender",
                team: "Team M", // Added team name
                value: "$25 million", // Added value
                career: [
                    {
                        season: "2020-2021",
                        team: "Team M",
                        value: "$25 million",
                        apps: 28
                    },
                    {
                        season: "2019-2020",
                        team: "Team N",
                        value: "$23 million",
                        apps: 30
                    }
                    // Add more career data here...
                ]
            }
            // Add more players here...
        ];

        // Function to show player details
function showPlayerDetails(playerId) {
    var detailsContainer = document.getElementById("player-details");
    var detailsPhoto = document.getElementById("details-photo");
    var detailsName = document.getElementById("details-name");
    var detailsTeamValue = document.getElementById("player-team-value"); // Added team name and value element
    var careerTable = document.getElementById("career-table");
    var body = document.body;

    // Check if the player card is already open
    if (!detailsContainer.classList.contains("active")) {
        var player = players[playerId - 1];

        // Populate the popup with player details
        detailsName.textContent = player.name; // Set player name
        detailsPhoto.src = player.photoUrl; // Set player photo

        // Populate team name and value
        detailsTeamValue.innerHTML = `<strong>Team:</strong> ${player.team} | <strong>Value:</strong> ${player.value}`;

        // Populate the career table
        var careerTableHTML = "";
        player.career.forEach(function (seasonData) {
            careerTableHTML += `
                <tr>
                    <td>${seasonData.season}</td>
                    <td>${seasonData.team}</td>
                    <td>${seasonData.value}</td>
                    <td>${seasonData.apps}</td>
                </tr>
            `;
        });
        careerTable.innerHTML = careerTableHTML;

        // Show the "Career" slide by default
        showSlide(1);

        // Show the player details container
        detailsContainer.classList.add("active");

        // Disable body scrolling
        body.style.overflow = "hidden";

        // Add an event listener to the close button to enable reopening
        var closeButton = document.querySelector(".close-button");
        closeButton.addEventListener("click", function () {
            hidePlayerDetails();
            // Remove the event listener to allow reopening
            closeButton.removeEventListener("click", hidePlayerDetails);
        });
    }
}


        // Function to show a specific slide
        function showSlide(slideNumber) {
            var slides = document.querySelectorAll(".slide");
            var slideButtons = document.querySelectorAll(".slide-button");

            // Hide all slides and deactivate buttons
            slides.forEach(function (slide) {
                slide.style.display = "none";
            });
            slideButtons.forEach(function (button) {
                button.classList.remove("active");
            });

            // Show the selected slide and activate the corresponding button
            slides[slideNumber - 1].style.display = "block";
            slideButtons[slideNumber - 1].classList.add("active");
        }

        // Function to hide player details
        function hidePlayerDetails() {
            var detailsContainer = document.getElementById("player-details");
            var body = document.body;

            // Hide the player details container by removing the 'active' class
            detailsContainer.classList.remove("active");

            // Clear the content of the popup
            document.getElementById("details-photo").src = "";
            document.getElementById("details-name").textContent = "";
            document.getElementById("player-team-value").textContent = ""; // Clear team name and value
            document.querySelector("#career-table").innerHTML = "";

            // Enable body scrolling
            body.style.overflow = "auto";
        }

        // Function to start dragging the popup
        var isDragging = false;
        var initialMouseY = 0;
        var initialPopupY = 0;

        function startDrag(event) {
            isDragging = true;
            initialMouseY = event.clientY;
            var popup = document.getElementById("player-details");
            initialPopupY = parseFloat(getComputedStyle(popup).getPropertyValue("top"));

            // Prevent text selection while dragging
            document.body.style.userSelect = "none";

            // Add grab cursor
            document.querySelector(".popup-header").style.cursor = "grabbing";

            // Add mousemove and mouseup event listeners to track drag
            document.addEventListener("mousemove", dragPopup);
            document.addEventListener("mouseup", stopDrag);
        }

        // Function to drag the popup
        function dragPopup(event) {
            if (!isDragging) return;
            var deltaY = event.clientY - initialMouseY;
            var popup = document.getElementById("player-details");
            popup.style.top = initialPopupY + deltaY + "px";
        }

        // Function to stop dragging the popup
        function stopDrag() {
            isDragging = false;
            document.body.style.userSelect = "auto"; // Re-enable text selection
            document.querySelector(".popup-header").style.cursor = "grab"; // Restore grab cursor
            document.removeEventListener("mousemove", dragPopup);
            document.removeEventListener("mouseup", stopDrag);
        }

        // Function to filter and update the player list based on the search input
        function filterPlayers() {
            var searchInput = document.getElementById("search-input");
            var filter = searchInput.value.toLowerCase();
            var playerList = document.getElementById("player-list");
            playerList.innerHTML = ""; // Clear the current player list

            for (var i = 0; i < players.length; i++) {
                var playerName = players[i].name.toLowerCase();

                if (playerName.indexOf(filter) > -1) {
                    var card = generatePlayerCard(players[i], true); // Pass true to indicate a search result card
                    playerList.appendChild(card); // Append the player card
                }
            }
        }

        // Function to generate player cards
        function generatePlayerCard(player) {
            var card = document.createElement("div");
            card.classList.add("player-card");

            var playerImage = document.createElement("div");
            playerImage.classList.add("player-image");
            var img = document.createElement("img");
            img.src = player.photoUrl;
            img.alt = player.name;
            img.classList.add("player-card-image");
            playerImage.appendChild(img);

            var playerName = document.createElement("h3");
            playerName.textContent = player.name;
            playerName.classList.add("player-card-name");

            var playerInfo = document.createElement("p");
            playerInfo.textContent = player.info;

            card.appendChild(playerImage);
            card.appendChild(playerName);
            card.appendChild(playerInfo);

            return card;
        }

        // Add an event listener to the search input for real-time filtering
        var searchInput = document.getElementById("search-input");
        searchInput.addEventListener("input", filterPlayers);

    </script>
</body>
</html>
